version: "3.1"
rules:

  # Ver estado (autenticado)
  - rule: Ver estado estudiante autenticado
    steps:
      - intent: ver_estado_estudiante
      - slot_was_set:
          - is_authenticated: true
      - action: action_ver_estado_estudiante

  - rule: Ver estado estudiante autenticado (sinónimo intent)
    steps:
      - intent: estado_estudiante
      - slot_was_set:
          - is_authenticated: true
      - action: action_ver_estado_estudiante

  # Ver estado (NO autenticado)
  - rule: Ver estado estudiante no autenticado
    steps:
      - intent: ver_estado_estudiante
      - slot_was_set:
          - is_authenticated: false
      - action: utter_pedir_autenticacion

  - rule: Ver estado estudiante no autenticado (sinónimo intent)
    steps:
      - intent: estado_estudiante
      - slot_was_set:
          - is_authenticated: false
      - action: utter_pedir_autenticacion

  # Certificados (autenticado)
  - rule: Consultar certificados autenticado
    steps:
      - intent: consultar_certificados
      - slot_was_set:
          - is_authenticated: true
      - action: action_consultar_certificados

  # Certificados (NO autenticado)
  - rule: Consultar certificados no autenticado
    steps:
      - intent: consultar_certificados
      - slot_was_set:
          - is_authenticated: false
      - action: utter_pedir_autenticacion
