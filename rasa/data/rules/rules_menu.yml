version: "3.3"

rules:
  - rule: Ir al men√∫ principal
    steps:
      - intent: ir_menu_principal
      - action: action_set_menu_principal
      - action: utter_menu_principal

  - rule: Ver estado estudiante autenticado
    steps:
      - intent: ver_estado_estudiante
      - condition:
          - slot_was_set:
              - is_authenticated: true
      - action: action_ver_estado_estudiante

  - rule: Ver estado estudiante no autenticado
    steps:
      - intent: ver_estado_estudiante
      - condition:
          - slot_was_set:
              - is_authenticated: false
      - action: utter_login_requerido

  - rule: Consultar certificados autenticado
    steps:
      - intent: consultar_certificados
      - condition:
          - slot_was_set:
              - is_authenticated: true
      - action: action_consultar_certificados

  - rule: Consultar certificados no autenticado
    steps:
      - intent: consultar_certificados
      - condition:
          - slot_was_set:
              - is_authenticated: false
      - action: utter_login_requerido

  - rule: Fallback general
    steps:
      - intent: fallback
      - action: utter_fallback
