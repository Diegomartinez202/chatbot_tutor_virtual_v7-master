version: "3.1"

stories:

  # ğŸ‘‹ Saludo â†’ recomendados + carrusel
  - story: Saludo â†’ Recomendados + Carrusel
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ” Explorar directo â†’ (misma secuencia para evitar conflicto)
  - story: Explorar directo â†’ Recomendados + Carrusel
    steps:
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ“š Mis cursos â†’ recomendados + carrusel
  - story: Mis cursos â†’ Recomendados + Carrusel
    steps:
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ” Recuperar contraseÃ±a desde ingreso
  - story: Recuperar contraseÃ±a desde ingreso
    steps:
      - intent: ingreso_zajuna
      - action: utter_preguntar_problema_acceso
      - intent: recuperar_contrasena
      - action: recovery_form
      - active_loop: recovery_form
      - action: recovery_form
      - active_loop: null
      - action: action_enviar_correo
      - action: utter_confirmar_recuperacion

  # ğŸ“š Proceso acadÃ©mico completo
  - story: Proceso acadÃ©mico completo
    steps:
      - intent: proceso_academico
      - action: utter_menu_proceso_academico
      - intent: tutor_asignado
      - action: utter_tutor_asignado
      - intent: ver_certificados
      - action: action_check_auth
      - intent: horarios_calendario
      - action: utter_menu_proceso_academico

  # ğŸ™‹ Escalar a humano (confirmado)
  - story: Escalar a humano (confirmado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: confirmacion_escalar_humano
      - action: action_conectar_humano
      - action: utter_confirmar_escalado

  # ğŸ™… Escalar a humano (negado)
  - story: Escalar a humano (negado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: negar_escalar
      - action: utter_gracias_continuar

  # ğŸ› ï¸ Soporte tÃ©cnico (genÃ©rico: solo arranque del form)
  #    El submit lo maneja la REGLA "Submit soporte_form"
  - story: Soporte tÃ©cnico (genÃ©rico)
    steps:
      - intent: soporte_tecnico
      - action: soporte_form
      - active_loop: soporte_form

  # ğŸ“§ saludo y envÃ­o de correo (acciÃ³n + utter)
  - story: saludo y envÃ­o de correo
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_correo
      - action: action_enviar_correo
      - action: utter_enviar_correo

  # ğŸ“ saludo y envÃ­o de telÃ©fono
  - story: saludo y envÃ­o de telÃ©fono
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_telefono
      - action: utter_enviar_telefono

  # ğŸªª saludo y envÃ­o de cÃ©dula
  - story: saludo y envÃ­o de cÃ©dula
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_cedula
      - action: utter_enviar_cedula

  # ğŸ”— saludo y envÃ­o de url
  - story: saludo y envÃ­o de url
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_url
      - action: utter_enviar_url
