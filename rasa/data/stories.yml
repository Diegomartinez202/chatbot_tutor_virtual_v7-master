version: "3.1"
stories:

  # ğŸ‘‹ Saludo â†’ recomendados + carrusel
  - story: Saludo â†’ Recomendados + Carrusel
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ” Explorar directo â†’ Recomendados + Carrusel
  - story: Explorar directo â†’ Recomendados + Carrusel
    steps:
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ” Ingreso a Zajuna (solo una salida en stories; la otra la controlan las rules)
  - story: Ingreso a Zajuna (instrucciones)
    steps:
      - intent: ingreso_zajuna
      - action: utter_ingreso_zajuna_instrucciones

  # ğŸ“š Proceso acadÃ©mico (neutral, evita conflictos con rules)
  - story: Proceso acadÃ©mico (neutral)
    steps:
      - intent: proceso_academico
      - action: utter_menu_proceso_academico

  # ğŸ” Estado estudiante autenticado (demo)
  - story: Estado estudiante autenticado (demo)
    steps:
      - slot_was_set:
          - has_token: true
      - intent: estado_estudiante
      - action: action_estado_estudiante

  # ğŸ“œ Certificados autenticado (demo)
  - story: Ver certificados autenticado (demo)
    steps:
      - slot_was_set:
          - has_token: true
      - intent: ver_certificados
      - action: action_ver_certificados

  # ğŸ‘©â€ğŸ« Tutor asignado autenticado (demo)
  - story: Tutor asignado autenticado (demo)
    steps:
      - slot_was_set:
          - has_token: true
      - intent: tutor_asignado
      - action: action_tutor_asignado

  # ğŸ™‹ Escalar a humano (confirmado/negado)
  - story: Escalar a humano (confirmado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: confirmacion_escalar_humano
      - action: action_conectar_humano
      - action: utter_confirmar_escalado

  - story: Escalar a humano (negado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: negar_escalar
      - action: utter_gracias_continuar

  # ğŸ› ï¸ Soporte tÃ©cnico (arranque del form)
  - story: Soporte tÃ©cnico (arranque form)
    steps:
      - intent: soporte_tecnico
      - action: soporte_form
      - active_loop: soporte_form

  # ğŸ” RecuperaciÃ³n de contraseÃ±a (form)
  - story: Recuperar contraseÃ±a (form)
    steps:
      - intent: recuperar_contrasena
      - action: recovery_form
      - active_loop: recovery_form

  # ğŸ“§ Saludo y envÃ­o de correo
  - story: Saludo â†’ enviar_correo
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_correo
      - action: action_enviar_correo
      - action: utter_enviar_correo

  # ğŸ“/ğŸªª/ğŸ”— variantes sencillas
  - story: Saludo â†’ enviar_telefono
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_telefono
      - action: utter_enviar_telefono

  - story: Saludo â†’ enviar_cedula
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_cedula
      - action: utter_enviar_cedula

  - story: Saludo â†’ enviar_url
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_url
      - action: utter_enviar_url


