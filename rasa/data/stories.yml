version: "3.1"

stories:

  # ğŸ‘‹ Saludo â†’ recomendados + carrusel
  - story: Saludo â†’ Recomendados + Carrusel
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ” Explorar directo â†’ Recomendados + Carrusel
  - story: Explorar directo â†’ Recomendados + Carrusel
    steps:
      - intent: explorar_temas
      - action: utter_cursos_recomendados
      - action: utter_cursos_carousel

  # ğŸ“š Proceso acadÃ©mico (flujo bÃ¡sico con auth-check y otros)
  - story: Proceso acadÃ©mico bÃ¡sico
    steps:
      - intent: proceso_academico
      - action: utter_menu_proceso_academico
      - intent: tutor_asignado
      - action: utter_tutor_asignado
      - intent: ver_certificados
      - action: action_check_auth
      - intent: horarios_calendario
      - action: utter_menu_proceso_academico

  # ğŸ™‹ Escalar a humano (confirmado)
  - story: Escalar a humano (confirmado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: confirmacion_escalar_humano
      - action: action_conectar_humano
      - action: utter_confirmar_escalado

  # ğŸ™… Escalar a humano (negado)
  - story: Escalar a humano (negado)
    steps:
      - intent: escalar_humano
      - action: utter_escalar_humano
      - intent: negar_escalar
      - action: utter_gracias_continuar

  # ğŸ› ï¸ Soporte tÃ©cnico (arranque del form)
  #    El submit lo maneja la RULE "Submit soporte_form"
  - story: Soporte tÃ©cnico (arranque form)
    steps:
      - intent: soporte_tecnico
      - action: soporte_form
      - active_loop: soporte_form

  # ğŸ” RecuperaciÃ³n de contraseÃ±a (form directo)
  #    El submit lo maneja la RULE "Submit recovery_form"
  - story: Recuperar contraseÃ±a (form)
    steps:
      - intent: recuperar_contrasena
      - action: recovery_form
      - active_loop: recovery_form

  # ğŸ“§ Saludo y envÃ­o de correo (acciÃ³n + utter)
  - story: Saludo â†’ enviar_correo
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_correo
      - action: action_enviar_correo
      - action: utter_enviar_correo

  # ğŸ“ Saludo y envÃ­o de telÃ©fono
  - story: Saludo â†’ enviar_telefono
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_telefono
      - action: utter_enviar_telefono

  # ğŸªª Saludo y envÃ­o de cÃ©dula
  - story: Saludo â†’ enviar_cedula
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_cedula
      - action: utter_enviar_cedula

  # ğŸ”— Saludo y envÃ­o de URL
  - story: Saludo â†’ enviar_url
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: enviar_url
      - action: utter_enviar_url
