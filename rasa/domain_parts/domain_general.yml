# ============================================
# ğŸ§  DOMAIN GENERAL - TUTOR VIRTUAL ZAJUNA
# ============================================
version: "3.1"

# ============================================
# ğŸ“Œ INTENCIONES PRINCIPALES
# ============================================
intents:
  - saludar
  - despedir
  - affirm
  - deny
  - ayuda
  - volver_menu
  - autenticarse
  - cerrar_sesion
  - confirmar_autenticacion
  - negar_autenticacion
  - out_of_scope
  - fallback
  - respuesta_satisfecho
  - respuesta_insatisfecho
  - ir_menu_principal
  - terminar_conversacion
  - saludo
  - pantalla_blanca
  - ver_card_demo
  - ver_catalogo
  - cambiar_idioma_espanol
  - cambiar_idioma_ingles
  - ver_confirmar_recuperacion_info
  - cerrar_chat
  - proceso_academico_secundario
  - error_actividad
  - ver_certificados_info
  - ver_estado_estudiante_info
  - provide_email
  - enviar_numero
  - problema_no_ingreso
  - continuar_tema_si
  - ingreso_zajuna

# ============================================
# ğŸ“¦ ENTIDADES Y SLOTS
# ============================================
entities:
  - token
  - usuario

slots:
  auth_token:
    type: text
    influence_conversation: false
    initial_value: null

  is_authenticated:
    type: bool
    influence_conversation: true
    initial_value: false
    mappings:
      - type: custom

# ============================================
# ğŸ’¬ RESPUESTAS GENERALES
# ============================================
responses:

  utter_saludar:
    - text: "Â¡Hola! ğŸ‘‹ Soy tu asistente virtual de **Zajuna**. Â¿En quÃ© puedo ayudarte hoy?"
      buttons:
        - title: "ğŸ”‘ Iniciar sesiÃ³n"
          payload: "/autenticarse"
        - title: "ğŸ“ Consultar Ã¡rea acadÃ©mica"
          payload: "/consultar_academico"
        - title: "ğŸ› ï¸ Soporte tÃ©cnico"
          payload: "/consultar_soporte"

  utter_despedir:
    - text: "Â¡Hasta pronto! ğŸ‘‹ Recuerda que puedes volver cuando necesites asistencia."

  utter_fallback:
    - text: "No entendÃ­ muy bien eso ğŸ˜…. Â¿PodrÃ­as reformularlo o seleccionar una opciÃ³n del menÃº principal?"
      buttons:
        - title: "ğŸ  Ir al menÃº principal"
          payload: "/volver_menu"

  utter_volver_menu:
    - text: "ğŸ“‹ Este es el menÃº principal de Zajuna:"
      buttons:
        - title: "ğŸ”‘ Autenticarse"
          payload: "/autenticarse"
        - title: "ğŸ“ Ãrea acadÃ©mica"
          payload: "/consultar_academico"
        - title: "ğŸ› ï¸ Soporte tÃ©cnico"
          payload: "/consultar_soporte"

  # ============================================
  # ğŸ” BLOQUE DE AUTENTICACIÃ“N
  # ============================================
  utter_pedir_autenticacion:
    - text: "ğŸ” Para continuar, necesitas iniciar sesiÃ³n en la plataforma Zajuna."
      buttons:
        - title: "Ir a Zajuna"
          payload: "https://zajuna.edu/login"
        - title: "âœ… Ya iniciÃ© sesiÃ³n"
          payload: "/confirmar_autenticacion"

  utter_confirmar_autenticacion:
    - text: "Perfecto ğŸ‘. Â¿PodrÃ­as confirmar si ya puedes ver tu panel acadÃ©mico?"

  utter_autenticacion_exitosa:
    - text: "âœ… AutenticaciÃ³n verificada. Â¡Ahora tienes acceso a todas las funciones acadÃ©micas!"

  utter_autenticacion_fallida:
    - text: "âŒ No se encontrÃ³ un inicio de sesiÃ³n activo. Por favor, accede a Zajuna antes de continuar."

  utter_cerrar_sesion:
    - text: "SesiÃ³n cerrada correctamente. ğŸ”’ Â¡Hasta pronto!"

  # ============================================
  # ğŸ’¬ SATISFACCIÃ“N Y CONTINUIDAD
  # ============================================
  utter_preguntar_satisfaccion:
    - text: "Â¿Quedaste satisfecho con la atenciÃ³n recibida?"
      buttons:
        - title: "SÃ­, satisfecho ğŸ˜„"
          payload: "/respuesta_satisfecho"
        - title: "No, insatisfecho ğŸ˜”"
          payload: "/respuesta_insatisfecho"

  utter_preguntar_continuar_menu:
    - text: "Â¿Deseas realizar otra consulta?"
      buttons:
        - title: "SÃ­, volver al menÃº principal"
          payload: "/ir_menu_principal"
        - title: "No, terminar conversaciÃ³n"
          payload: "/terminar_conversacion"

  utter_despedida_profesional:
    - text: |
        ğŸ™‹â€â™‚ï¸ Gracias por contactarte con **Zajuna Tutor Virtual**.  
        Â¡Te deseamos mucho Ã©xito en tu aprendizaje! ğŸŒŸ  
        â€” Equipo Zajuna ğŸ’™

  utter_bienvenida:
    - text: "Â¡Hola! Soy tu Tutor Virtual. Â¿En quÃ© puedo ayudarte hoy?"

  utter_saludo_general:
    - text: "Â¡Hola! Â¿CÃ³mo te puedo ayudar?"

  utter_menu_principal:
    - text: "Volvemos al menÃº principal. Â¿QuÃ© deseas hacer ahora?"

  utter_cerrar_chat:
    - text: "ğŸ”’ Chat cerrado. Puedes volver cuando quieras."

  utter_cierre_cancelado:
    - text: "Perfecto, seguimos por aquÃ­. Â¿QuÃ© mÃ¡s deseas hacer?"
      buttons:
        - title: "ğŸ  MenÃº"
          payload: "/ir_menu_principal"
        - title: "ğŸ“ Estado acadÃ©mico"
          payload: "/ver_estado_estudiante"
        - title: "ğŸ“œ Certificados"
          payload: "/consultar_certificados"

# ============================================
# âš™ï¸ ACCIONES PERSONALIZADAS (Zajuna)
# ============================================
actions:
  - zajuna_check_auth
  - zajuna_login_user
  - zajuna_logout_user
  - zajuna_menu_principal
  - action_health_check

# ============================================
# ğŸ§± FORMAS DE NAVEGACIÃ“N (opcional)
# ============================================
forms: {}
