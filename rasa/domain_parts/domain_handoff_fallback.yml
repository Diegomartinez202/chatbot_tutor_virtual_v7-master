version: "3.1"

slots:
  soporte_intentos:
    type: float
    influence_conversation: false
    initial_value: 0

responses:
  # Aviso genérico cuando hay problemas entendiendo dentro del form
  utter_form_fallback_warn:
    - text: "No logré entenderte del todo. ¿Puedes intentar con otras palabras? (Intento {soporte_intentos}/3)"

  # Mensaje cuando se decide derivar por demasiados fallos
  utter_handoff_por_fallos:
    - text: "Veo que hubo varias dificultades para completar el formulario. Te pasaré con un asesor humano para ayudarte mejor."

actions:
  - action_registrar_intento_form
  - action_verificar_max_intentos_form
