version: "3.1"

imports:
  - domain_general.yml
  - domain_soporte.yml
  - domain_encuesta.yml

intents:
  - terminar_conversacion_segura
  - confirmar_cierre
  - cancelar_cierre
  - reanudar_conversacion
  - limpiar_autosave

entities:
  - autosave_estado

slots:
  autosave_estado:
    type: text
    influence_conversation: true
  encuesta_activa:
    type: bool
    initial_value: false
  encuesta_tipo:
    type: text
    influence_conversation: true

responses:
  utter_confirmar_cierre:
    - text: "Parece que tienes una encuesta activa o informaci칩n sin guardar. 쮻eseas cerrar de todas formas?"
  utter_cierre_confirmado:
    - text: "Perfecto. Se cerrar치 la sesi칩n y se guardar치 tu progreso actual."
  utter_cierre_cancelado:
    - text: "Entendido, seguimos donde estabas. 游땕"
  utter_reanudar_conversacion:
    - text: "Parece que ten칤as una encuesta pendiente. 쮻eseas continuarla?"
  utter_limpiar_autosave:
    - text: "Los datos temporales fueron limpiados correctamente."

actions:
  - action_autosave_encuesta
  - action_autoresume_conversacion
  - action_reset_conversacion_segura
  - action_confirmar_cierre_seguro
  - action_guardar_autosave_mongo
  - action_cargar_autosave_mongo
