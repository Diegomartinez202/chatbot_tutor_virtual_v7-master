version: "3.1"

stories:

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ðŸ§° SOPORTE_FORM â€” camino feliz (happy path)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - story: soporte_form_happy_path_explicit
    steps:
      - user: "necesito soporte tÃ©cnico"
        intent: soporte_tecnico
      - action: soporte_form
      - active_loop: soporte_form

      # Nombre
      - action: utter_ask_nombre
      - user: "Mi nombre es AndrÃ©s"
        intent: pedir_nombre
      - action: soporte_form

      # Email
      - action: utter_ask_email
      - user: "andres@correo.com"
        intent: enviar_correo
      - action: soporte_form

      # Mensaje
      - action: utter_ask_mensaje
      - user: "No puedo acceder a mi curso en AVA"
        intent: pedir_mensaje
      - action: soporte_form

      # Submit final
      - active_loop: null
      - action: utter_soporte_resumen
      - action: action_soporte_submit
      - action: utter_soporte_creado
      - action: utter_soporte_form_ok

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ðŸ§° SOPORTE_FORM â€” cancelado por deny
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - story: soporte_form_cancel_explicit
    steps:
      - user: "necesito ayuda tÃ©cnica"
        intent: soporte_tecnico
      - action: soporte_form
      - active_loop: soporte_form

      # Primer slot
      - action: utter_ask_nombre
      - user: "no quiero seguir"
        intent: deny

      - action: action_deactivate_loop
      - active_loop: null
      - action: utter_gracias_continuar

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ðŸ”‘ RECOVERY_FORM â€” camino feliz (recuperaciÃ³n contraseÃ±a)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - story: recovery_form_happy_path_explicit
    steps:
      - user: "olvidÃ© mi contraseÃ±a"
        intent: recuperar_contrasena
      - action: recovery_form
      - active_loop: recovery_form

      - action: utter_ask_email
      - user: "user@example.com"
        intent: enviar_correo
      - action: recovery_form

      - active_loop: null
      - action: action_enviar_correo
      - action: utter_confirmar_recuperacion

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ðŸ”‘ RECOVERY_FORM â€” cancelado
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - story: recovery_form_cancel_explicit
    steps:
      - user: "quiero recuperar mi clave"
        intent: recuperar_contrasena
      - action: recovery_form
      - active_loop: recovery_form

      - action: utter_ask_email
      - user: "no"
        intent: deny

      - action: action_deactivate_loop
      - active_loop: null
      - action: utter_cancelar_recuperacion
